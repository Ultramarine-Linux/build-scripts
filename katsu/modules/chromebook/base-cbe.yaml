scripts:
  post:
    - id: cleanup
      name: Clean up system
      file: ../base/cleanup.sh
    - id: selinux-setup
      name: Set up SELinux
      file: ../base/selinux.sh
    - id: buildstamp
      name: Generate buildstamp
      file: ../base/buildstamp.sh
    - id: submarine
      name: Set up ChromeOS bootloader
      file: submarine.sh

dnf:
  releasever: 40
  repodir: ../base/repodir
  options:
    - --setopt=cachedir=/var/cache/dnf
    - --nogpgcheck
    - --setopt=keepcache=True
    - --best
    - --allowerasing
  exclude:
    - fedora-release*
    - generic-release*
    - kernel-debug*
    - setroubleshoot
    - setroubleshoot-plugins
    - setroubleshoot-server
  arch_packages:
    aarch64:
      - bcm283x-firmware
      - bcm283x-overlays
      - "@arm-tools"
    x86_64:
      - grub2-pc
      - grub2-pc-modules
  packages:
    - depthcharge-tools
    - alsa-ucm-cros
    - cros-keyboard-map
    # - submarine
